---
title: 腾讯云TCP4-业务流量高峰处理架构设计
date: 2022-01-11 15:09:53
tags: 
  - 认证
categories:
  - 云计算
  - 腾讯云
---

<p></p>
<!-- more -->


## 四、业务流量高峰处理架构设计(15%)
### 1. 业务高峰流量处理概述
##### 1.1 业务流量高峰处理相关概念
消息队列、缓存数据库	☆

##### 1.2 高峰流量可能带来的问题
访问延迟、性能下降、安全威胁等等	☆☆

+ 服务能力下降, 访问延迟,  用户体验差
+ 整体系统性能下降
+ 服务宕机，系统雪崩，导致服务不可用
+ 异常流量攻击, 安全受威胁

##### 1.3 高峰流量的应对思路
从8个维度进行规划	☆☆

+ 从8个维度进行规划
{% asset_img solution.png 高峰流量的应对思路 %}

##### 1.4 应对高峰流量的架构
应对高峰流量的分层架构，以及每一层所需要使用到的云产品	☆☆☆

{% asset_img layer.png 应对高峰流量的分层架构 %}
{% asset_img product.png 每一层所需要使用到的云产品 %}

### 2. 用户及应用接入高峰处理
##### 2.1 用户及应用高并发接入面临的问题
用户及应用层压力来源：目标服务器和接入链路	☆

+ 用户及应用层压力来源：目标服务器和接入链路
+ 压力分为: 目标服务器 + 接入链路 两个层级
  + 目标服务器:
     - 对tps/qps/最大并发连接数/吞吐量的挑战
     - 服务器节点单点故障
  + 接入链路
     - 链路规划: 局部最优解 不等于 全局最优解, 用户之间争抢优势链路资源(造成全局压力过高)
     - 重复请求: 不同用户请求的内容大量重复, 多余的传输成本
     - 跨运营商网络接入（导致更高的用户访问延迟）     

##### 2.2 用户及应用接入高并发应对思路
目标服务器和接入链路的优化措施	☆☆

+ 目标服务器
  + 集群+负载均衡
  + 将业务进行拆分(在集群内多个节点部署)

+ 接入链路的优化
  + 综合考虑距离， 流量负载、网络质量，实现全网级别的链路选择优化(尽可能避免用户较高的访问延时)
  + 读写分离， 动静分离
    + 静态/只读内容由缓存服务器提供
    + 多使用静态页面, 减少对数据库的访问 

##### 2.3 设计用户及应用接入高并发架构 [要重新看]
涉及产品包括：CDN、云解析、HttpDNS、负载均衡	☆☆☆
CDN-GLSB全局调度系统、CDN缓存处理架构	☆☆
多地域流量分流架构	☆☆☆
通过CLB横向扩展分担高峰流量	☆☆☆
最佳实践	☆☆☆


+ CDN-GLSB全局调度系统 [pic]
  + 最优接入
  + 最优回源
  + 动态加速

+ CDN缓存处理架构 [pic 3个模块]
  + CDN全局调度系统
  + CDN加速节点集群 
  + COS托管源

+ CDN加速的场景 [pic]
  + 静态加速
  + 动态加速
    DSA
  + 海外加速
  + 安全加速 

+ 云解析、HttpDNS [pic]
   + 云解析
   + HttpDNS
     移动互联网中的域名解析的异常问题

+ 多地域流量分流架构 [pic]
   + DNS + 负载均衡

+ 通过CLB横向扩展分担高峰流量
  + 调度算法
    + 加权轮询算法
      看权重
    + 加权最小连接数算法
      权重相同的时候，看连接数
    + 源地址散列调度算法
      ip_hash
  + 高峰流量分担和消除单点
  + 横向扩展分担高峰流量
    CVM + 弹性伸缩

+ 最佳实践
{% asset_img best-practice.png  最佳实践 %}

### 3. web及服务层高峰处理
##### 3.1 web及服务层流量高峰面临的问题
web及服务层压力来源：资源瓶颈和资源分配	☆

##### 3.2 web及服务层流量高峰的应对思路
web及服务层流量高峰的应对思路	☆☆

##### 3.3 设计web及服务层高并发架构
Web应用的高峰流量处理架构	☆☆
高性能计算集群流量处理架构	☆☆
请求类服务器高峰流量处理架构	☆☆
弹性伸缩构建高并发架构的最佳实践	☆☆☆
实现分层解耦收益	☆☆☆


### 4. 数据缓存架构设计
##### 4.1 数据缓存的应用架构和处理逻辑
数据缓存的应用架构和处理逻辑	☆☆☆


##### 4.2 缓存雪崩
缓存雪崩的概念；如何预防缓存雪崩	☆☆


##### 4.3 设计数据缓存架构
Redis概念和功能原理	☆☆
使用Redis设计不同场景下的高并发架构	☆☆



### 5. 异步消息队列架构设计
##### 5.1 异步消息队列架构设计原则
消息队列的概念、特点、功能	☆☆
"消息中间件的通讯过程、高峰流量异步通信过程、流量削峰处理过程和异步通知应对高峰流量"	☆☆


##### 5.2 设计异步消息队列架构
腾讯云的消息中间件服务	☆☆
"基于CMQ消息队列对系统解耦应对高峰流量、基于CMQ的异步消息队列架构设计"	☆☆☆
"Ckafka应对高并发大数据处理场景架构、Ckafka日志聚合场景架构"	☆☆


### 6. 数据层高峰流量处理
##### 6.1 传统架构面临的问题
传统数据库OLAP+OLTP+分库分表方案面临的问题	☆


##### 6.2 数据层高峰流量处理设计思路
"分库分表、主备同步+读写分离、动态静态数据分离、数据库分布式架构"	☆☆☆

##### 6.3 设计数据层的高峰流量处理架构
基于COS的数据层架构	☆☆☆










